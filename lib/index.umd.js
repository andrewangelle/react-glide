(function(m,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],e):(m=typeof globalThis<"u"?globalThis:m||self,e(m["react-glide"]={},m.react))})(this,function(m,e){"use strict";const i=(o=>o&&typeof o=="object"&&"default"in o?o:{default:o})(e),k="";function b({width:o}){return i.default.createElement("div",{style:{width:`${o}px`,height:`${parseInt(o.toString(),10)/66*50}px`}},i.default.createElement("div",{className:"loading-indicator"}))}function x({interval:o=2e3,skip:v=!1,resetOnExpire:d=!0,onExpire:E}){const a=o/1e3,[g,c]=e.useState(a),u=e.useRef(E);function p(){c(a)}return e.useEffect(()=>{u.current=E}),e.useEffect(()=>{let S;return v||(S=setInterval(()=>{c(n=>n-1)},1e3),g<=0&&(u.current(),d&&c(a))),v&&clearInterval(S),()=>{clearInterval(S)}},[v,g,o,a,d,c,u]),{reset:p}}function N(o){const[v,d]=e.useState(!0),[E,a]=e.useState(!1),[g,c]=e.useState(0),[u,p]=e.useState([]);function S(){const t=n();t.length>0&&t.forEach(r=>{const f=new Image;f.src=r,f.onload=C}),t.length===0&&(a(!0),d(!1))}function n(){let t=[];return e.Children.map(o,(r,f)=>{const I=h(r);t=[...t,...I]}),p([...t]),t}function h(t){var r;const f=[];return t.type==="img"&&f.push(t.props.src),!((r=t.props)===null||r===void 0)&&r.children?h(t.props.children):f}function C(){c(t=>t+1)}return e.useEffect(()=>{S()},[]),e.useEffect(()=>{g===u.length&&(a(!0),d(!1))},[u,g,a,c]),{done:E,loading:v}}function _({autoPlay:o,autoPlaySpeed:v=5e3,infinite:d=!1,dots:E=!0,height:a,width:g,onSlideChange:c=()=>null,children:u}){const p=e.Children.toArray(u),S={skip:!o,interval:v,onExpire:f},[n,h]=e.useState(0),{loading:C,done:t}=N(p),{reset:r}=x(S);function f(){const l=p.length-1;if(n===l&&!d)return;const s=n===l?0:n+1;h(y=>s),r()}function I(){const l=p.length-1,s=n===0?l:n-1;h(y=>s),r()}function T(l){h(s=>l),r()}e.useEffect(()=>{n&&c()},[n]);const D={height:a,width:g};return i.default.createElement("div",{className:"glide--container",style:D,"data-testid":"glideContainer"},C&&i.default.createElement(b,{width:g}),t&&e.Children.map(u,(l,s)=>{const y=n===s?"current":"";return l&&i.default.createElement(l.type,Object.assign({key:s,className:`glide--item ${y}`},n===s?{"data-testid":"glideCurrentItem"}:{},l.props))}),(d||n!==0)&&i.default.createElement("button",{className:"glide--prev-btn","data-testid":"goToPrevSlide",onClick:I},"\u276E"),(d||n!==p.length-1)&&i.default.createElement("button",{className:"glide--next-btn","data-testid":"goToNextSlide",onClick:f},"\u276F"),E&&i.default.createElement("section",{className:"glide--dots"},e.Children.map(u,(l,s)=>i.default.createElement("span",{key:s,role:"button","data-testid":`glideDot-${s}`,className:n===s?"active-dot":"inactive-dot",tabIndex:0,onClick:()=>T(s),onKeyDown:y=>{switch(y.key){case" ":case"Enter":T(s)}}},"\xB7"))))}m.Glide=_,Object.defineProperties(m,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
